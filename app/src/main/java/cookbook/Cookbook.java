/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package cookbook;

import java.io.IOException;

//import cookbook.model.QueryMaker;
import cookbook.view.Splash;
import cookbook.view.UserLoginScene;
import java.io.IOException;

//import cookbook.model.QueryMaker;
import cookbook.view.Splash;
import cookbook.view.UserLoginScene;
import javafx.animation.KeyFrame;
import javafx.animation.KeyValue;
import javafx.animation.Timeline;
import javafx.application.Application;
import javafx.fxml.FXMLLoader;
import javafx.geometry.Pos;
import javafx.scene.Parent;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.control.Label;
import javafx.scene.layout.VBox;
import javafx.stage.Stage;
import javafx.util.Duration;

//import javax.management.Query;

public class Cookbook extends Application {

    // [ COMMENT ]
    // This start method was to test the Browse and Search scenes
    // They are not connected to the rest of scenes as of right now
    // Currently it will simply open the Browse and Search scenes individually
    // Need Hub scene to transition to browse or search

    // [ START METHOD WITH RESPECTIVE BROWSE AND SEARCH ]
    /*
     * @Override
     * public void start(Stage stage) {
     * try {
     * //Parent root = FXMLLoader.load(getClass().getResource("browserecipe.fxml"));
     * 
     * // Uncomment below (searchpage.fxml) and comment above (browserecipe.fxml) to
     * see search scene
     * Parent root = FXMLLoader.load(getClass().getResource("hub.fxml"));
     * 
     * Scene scene = new Scene(root);
     * stage.setScene(scene);
     * stage.show();
     * } catch (Exception e) {
     * e.printStackTrace();
     * }
     * }
     */

    // [ COMMENT ]
    // Original app execution with animation > login > userpage (containing add
    // recipe)
    // Now UserPageScene for displaying list of recipes is Browse class (potentially
    // delete UserPageScene class)
    // Must implement transitions for Search and Browse scenes with the rest
    // AddRecipeStage class not implemented with Browse class "addRecipe" button


    // [ ORIGINAL START METHOD BELOW ]
    // [ ORIGINAL START METHOD BELOW ]
    @Override
    public void start(Stage primaryStage) throws Exception {
        Splash splash = new Splash();
        splash.show();
        primaryStage.setScene(splash.getSplashScene());
    
        splash.getSequentialTransition().setOnFinished(e -> {
            Timeline timeline = new Timeline();
            KeyFrame key = new KeyFrame(Duration.millis(1500),
                           new KeyValue(splash.getSplashScene().getRoot().opacityProperty(), 0));
            timeline.getKeyFrames().add(key);
            timeline.setOnFinished((event1) -> {
                try {
                    Parent root = FXMLLoader.load(getClass().getResource("/cookbook/LoginScreenScene.fxml"));
                    Scene scene = new Scene(root);
                    primaryStage.setScene(scene);
                    primaryStage.setTitle("Dish IT");
                    primaryStage.setWidth(660);
                    primaryStage.setHeight(540);
                    primaryStage.show();
                } catch (IOException ex) {
                    ex.printStackTrace();
                }
            });
            timeline.play();
        });
        primaryStage.show();
    }

    public static void main(String[] args) {
        launch(args);
    }
}
